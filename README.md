# Тестовое задание

Система, помимо всего прочего, использует курсы валют.

Логика получения курсов валют следующая. Клиентская сторона может получить их из кеша, из базы данных и из внешнего источника по http. В случае, если курса валют нет в кеше, надо проверить базу, и если там есть, положить в кеш. Если в базе нет -- проверить внешний источник и положить и в базу, и в кеш.

Надо реализовать эту логику. Предполагается, что она будет использоваться в куче разных мест.

Вероятно, в условии есть неточности, какое-то поведение не указано и тд. Нужно самостоятельно принять решение что делать в каждом таком случае и явно это пометить -- либо в комментарии, либо в файле типа readme. В этом же файле напишите, что бы вы сделали по-другому, будь у вас больше времени; какие у вас были соображения, как в целом должен выглядеть этот код, к чему вы вообще стремились.

Пожелания к реализации

Язык -- php 7.2.

Функционал отправки запросов, хранения данных в базе и в кеше реализовывать не надо, вместо них достаточно сделать заглушки. Не нужно реализовывать трудоемкие технические детали. Вместо этого важнее как вы декомпозировали предметную область, как выглядят ваши классы, куда вы поместили логику. Тем не менее, по качеству код должен выглядеть так, как будто вы отдаёте финальную его версию на ревью.

-------------------------------------------

Реализация заняла около 1,5 часа

Дополнительные соображения.

1. Первое, что напрашивается - сделать установку базовой валюты и упростить вызовы методов. Это также позволит в некоторых случаях находить курсы не обращаясь в более дорогой источник.
2. Наверное разумно выделить получение списка валют в отдельный класс и инжектить в конструктор списка валют - это позволит, например, реализовать резервный канал без изменения кода основной системы.
3. В зависимости от сущности вызывающей стороны можно сделать форматтер, для выдачи в различной форме результатов запроса (массив, строка, json и.т.д)
4. Курсы валют - постоянно меняющийся ресурс, поэтому разумно добавить срок жизни иформации в кеше и DB и запрапрашивать курс в более дорогом источнике не только если его нет, но и если вышел "срок годности". Алгоритмы могут быть динамическими и довольно сложными, что может потянуть на отдельную подсистему (когда-то делал для цен на авиабилеты).
 
Единственное, чего хотелось бы добавить - на мой взгляд, для больших сложных систем с прогнозируемым уронем надежности, вылизывать PHP-код до идеального ООП неразумно, PHP для того чтобы быстро "запилить" работающую фичу с достаточным уронем надежности, откатать на фронте, а потом уже перенести функционал в бэкенд с максимальным качеством, написанный не на PHP, а на чем-то со статической типизацией. Тут надо считать - что дешевле, такая двухслойная разработка или максимально полное покрытие тестами PHP-кода.

Это я к тому, что хоть и умею в ООП - совать его везде и всюду не буду. 
Глупо создавать даже простые классы в скрипте, который надо будет запустить лишь пару раз.